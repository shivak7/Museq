instrument Kick {
    waveform sine
    envelope 0.01 0.1 0.5 0.1
}

instrument Hat {
    waveform sawtooth
    envelope 0.01 0.05 0.1 0.05
}

instrument Snare {
    waveform square
    envelope 0.01 0.1 0.2 0.1
}

function beat(note) {
    Kick {
        sequence {
            note $note 250 127
        }
    }
}

sequential {
    parallel {
        call beat(C2)
        Hat {
            sequence {
                note C6 125 60
                note C6 125 0
                note C6 125 60
                note C6 125 0
            }
        }
    }
    
    Snare {
        sequence {
            note C3 500 100
        }
    }
}
