// Integration Test for Scale and Chord Features

scale D minor

instrument Pad {
    waveform triangle
    envelope 0.5 0.2 0.6 0.5
    filter lowpass 1500 1.0
}

instrument Lead {
    waveform sawtooth
    envelope 0.05 0.1 0.8 0.2
    portamento 100
}

sequential {
    // Relative degrees in D Minor
    parallel {
        Pad { notes 1+3+5(2000) } // Dm chord via degrees
        Lead { notes 1, 2, 3, 2 }
    }
    
    // Explicit Chords
    parallel {
        Pad { notes Gmin7(2000), Amin7(2000) }
        Lead { notes 4, 5, 6, 5 }
    }
    
    // Local Scale Override
    scale E major
    parallel {
        Pad { notes 1+3+5(2000) } // E Major chord
        Lead { notes 1, 2, 3, 2 }
    }
}
